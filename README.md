# quick-sub-tools

可以用来快速进行字幕相关处理的 python 程序。

## 环境 Environment

`md2txt.py` 和 `subEmbed.py` 都需要安装 python，`subEmbed.py` 使用了 [ffmpeg](https://ffmpeg.org/) 的命令。将 python 和 ffmpeg 的路径添加至环境变量后即可使用。

## `md2txt.py`

### 功能 Features

`md2txt.py` 用于将以 Markdown 格式（.md）撰写的文稿直接转换成预处理好的文本（.txt），其具体功能如下：

- 删除所有标题
- 删除所有换行符
- 替换中文逗号（`，`）和句号（`。`）为换行符
- 在叹号（`！`）、问号（`？`）、省略号（`…`）之后添加换行符
- 替换顿号（`、`）为半角空格
- 将处理好的文本输出为 .txt 文件

**注意**：为了达到预期的效果，最好在撰写文稿时遵循习惯：

1. 较短的两句话通常在字幕中放在同一行，用半角空格（` `）隔开，因此在文稿中可以通过顿号分隔短句。
2. 在字幕中通常使用一格省略号（`…`）而并非通常规范下的两格省略号（`……`），以减短一行字幕的长度，因此不要在文稿中使用两格省略号，否则会在两个字符后分别添加一次换行符。
3. 括号、冒号、破折号等标点并未处理，如果有需要可以在行内出现，如果要独立成行，可以在需要的地方添加逗号或句号，用以换行。

处理好后的 .txt 文件可以直接通过 [Aegisub](https://github.com/Aegisub/Aegisub) 或其他字幕软件打开，进行时间轴等后续处理，然后另存为自己想要的字幕文件格式。

### 使用 Instructions

'''
python md2txt.py
'''

输入 .md 文件的路径和 .txt 文件的路径。

## `subEmbed.py`

### 功能 Features

`subEmbed.py` 用于将字幕（.ass）和视频压制在一起，生成一个内嵌字幕的视频。

### 使用 Instructions

'''
python subEmbed.py
'''

输入视频文件和字幕文件（.ass）的路径，输入导出视频的路径。

